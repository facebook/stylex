---
title: 'stylex.env.*'
---

Provides compile-time constants and functions that are inlined during
compilation. Values are configured in the StyleX babel plugin options and can be
used anywhere within APIs like `create`, `createTheme`, and `defineVars`.

```ts
const env: { [key: string]: mixed };
```

Values are inlined directly before compilation, so identical values always
deduplicate into a single CSS rule â€” unlike `defineConsts`, no additional CSS is
generated. Changing the `env` config invalidates the compilation cache for all
files.

### Example use:

Configure env values in your
[babel plugin options](/docs/api/configuration/babel-plugin/#env):

```js title="babel.config.js"
module.exports = {
  plugins: [
    ['@stylexjs/babel-plugin', {
      env: {
        colors: {
          primary: '#0066ff',
          secondary: '#ff6600',
          background: 'white',
          text: 'black',
        },
        spacing: {
          small: '4px',
          medium: '8px',
          large: '16px',
        },
      },
    }],
  ],
};
```

Then use them in any StyleX call:

```tsx
import * as stylex from '@stylexjs/stylex';

const styles = stylex.create({
  root: {
    color: stylex.env.colors.primary,
    backgroundColor: stylex.env.colors.background,
    padding: stylex.env.spacing.medium,
  },
});
```

You can also use a named import:

```tsx
import { create, env } from '@stylexjs/stylex';

const styles = create({
  root: {
    color: env.colors.primary,
  },
});
```

Nested objects can be passed directly to other StyleX APIs:

```tsx title="tokens.stylex.js"
import * as stylex from '@stylexjs/stylex';

export const colors = stylex.defineVars(stylex.env.colors);
```

### Functions

Env values can be functions. They are called at compile time and their return
values are inlined into the compiled CSS.

```js title="babel.config.js"
module.exports = {
  plugins: [
    ['@stylexjs/babel-plugin', {
      env: {
        opacity: (color, pct) =>
          `color-mix(in srgb, ${color} ${pct * 100}%, transparent)`,
        colorMix: (c1, c2, pct) =>
          `color-mix(in srgb, ${c1} ${pct}%, ${c2})`,
      },
    }],
  ],
};
```

```tsx
import * as stylex from '@stylexjs/stylex';
import { colors } from './tokens.stylex';

const styles = stylex.create({
  root: {
    backgroundColor: stylex.env.colorMix(colors.primary, 'black', 80),
    boxShadow: `0 4px 4px ${stylex.env.opacity(colors.primary, 0.35)}`,
  },
});
```

All function arguments must be statically evaluable at compile time. Functions
must be pure and return strings or numbers.
