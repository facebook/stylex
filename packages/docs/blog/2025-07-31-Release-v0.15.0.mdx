---
# Copyright (c) Meta Platforms, Inc. and affiliates.
#
# This source code is licensed under the MIT license found in the
# LICENSE file in the root directory of this source tree.
slug: v0.15.0
title: Release 0.15.0
authors: [mellyeliu]
tags:
  - release
---

# Release 0.15.0

StyleX v0.15.0 introduces significant improvements to media query handling, dynamic styles optimization, and improvements to the linter, types, and documentation.

## Media query parsing

We integrated our in-house media query parser with the compiler, allowing for improvements in media query validation, normalization, and ordering! This is gated behind the config option `enableMediaQueryOrder`.

Previously, media query ordering was non-deterministic because the compiler ordered media queries alphabetically. Developers had to manually ensure that media query bounds did not overlap, which went against common expectations for the last media query listed to take precedence. The new system resolves this by ensuring earlier queries are negated by later ones, ensuring predictable behavior across all usage contexts.

As an example, take this `create` call:
```tsx
const styles = stylex.create({
  foo: {
    gridColumn: {
      default: '1 / 2',
      '@media (max-width: 1440px)': '1 / 4',
      '@media (max-width: 1024px)': '1 / 3',
      '@media (max-width: 768px)': '1 / -1',
    },
  },
});
```

This is now transformed at compile time to:
```tsx
const styles = stylex.create({
  foo: {
    gridColumn: {
      default: '1 / 2',
 	    '@media (max-width: 1440px) and (min-width: 1024.1px)': '1 / 3',
      '@media (min-width: 768.1px) and (max-width: 1024px)': '1 / 3',
      '@media (max-width: 768px)': '1 / -1',
    },
  },
});
```

The compiler now also validates media query syntax and simplifies complex queries when possible, opening the door to later optimizations.

## Dynamic styles rewrite

The dynamic styles system has undergone a major rewrite to improve performance and reliability. The new implementation includes a fix to make dynamic styles classnames conditional on runtime values, aligning styling behaviour with React DOM expectations. We've also optimized how the compiler handles binary and unary expressions, conditional statements, and template literals within dynamic styles.

## Fixes

* Fixed TypeScript types for `stylex.types.*` functions (Thanks [@nmn](https://github.com/nmn)!)
* Resolved opaque type issues for InlineStyles.  (Thanks [@pawelblaszczyk5](https://github.com/pawelblaszczyk5)!)
* Fixed ESLint utility functions for number and math call validation and added style validation for length properties.

## Documentation

* Added [documentation](https://stylexjs.com/docs/api/javascript/defineVars/) around manual CSS variables generated with `defineVars`. (Thanks [@necolas](https://github.com/necolas)!)
* Updated outdated [theming docs](https://stylexjs.com/docs/learn/theming/defining-variables/) to align with current `createTheme` behaviour (Thanks [@nmn](https://github.com/nmn)!)
* Fixed ESLint rule severity syntax in the installation guide examples and cleaned up docs for descendent styles. (Thanks [@sonsu95](https://github.com/sonsu95) and [@mtpetros](https://github.com/mtpetros)!)
