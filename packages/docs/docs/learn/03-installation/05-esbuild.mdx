---
# Copyright (c) Meta Platforms, Inc. and affiliates.
#
# This source code is licensed under the MIT license found in the
# LICENSE file in the root directory of this source tree.
sidebar_position: 6
---

# esbuild

[`examples/example-esbuild`](https://github.com/facebook/stylex/tree/main/examples/example-esbuild) bundles a
React app with esbuild and compiles StyleX via `@stylexjs/unplugin`. The
unplugin extracts StyleX styles, aggregates them, and appends the output to the
CSS asset produced by esbuild.

## Install

import {DevInstallExample} from '../../../components/examples/dev-install';

<DevInstallExample dev={[`@stylexjs/unplugin`]} />

## Configure the build

Wire the unplugin into your esbuild script:

```js
import esbuild from 'esbuild';
import stylex from '@stylexjs/unplugin';

esbuild.build({
  entryPoints: ['src/App.jsx'],
  bundle: true,
  metafile: true, // lets StyleX find the emitted CSS asset
  plugins: [
    stylex.esbuild({
      useCSSLayers: true,
      importSources: ['@stylexjs/stylex'],
      unstable_moduleResolution: { type: 'commonJS' },
    }),
  ],
});
```

Notes:

- Keep `metafile: true` so the plugin can locate the CSS output.
- `useCSSLayers` wraps the generated rules in `@layer` blocks for predictable
  specificity. Remove it to use the ID-based fallback.
- Provide a CSS entry point such as `src/global.css` so esbuild emits a concrete
  CSS asset that the plugin can append to. If no CSS is emitted, the plugin
  creates `stylex.css` as a fallback.

## Build

Run your build command (for example `npm run example:build` in the example
folder) to emit a JS bundle and a StyleX-enriched CSS file in `public/dist`.
